<app-navbar></app-navbar>
<div class="container pb-3" style="font-family: 'Patua One', cursive;">

  <div>
    <h2 class="mt-3" style="font-family: 'Fredericka the Great', cursive;">What are you going to be?</h2>
    <p class="text-muted" style="font-family: 'Special Elite', cursive;">Your characterâ€™s class is their profession or vocation determining: combat prowess, magical ability, skills, and more...</p>
  </div>

  <div class="d-flex">

    <div class="d-inline-flex w-50 mb-3">
      <div class="flex-fill">
        <label for="typeahead-focus">Class:</label>
        <input
          class="form-control"
          type="text"
          id="typeahead-focus"
          placeholder="What is your character class?"
          [(ngModel)]="typeAheadClass"
          [ngbTypeahead]="search"
          [resultTemplate]="rt"
          [resultFormatter]="formatMatches"
          [inputFormatter]="formatMatches"
          (focus)="focus$.next($event.target.value)"
          (click)="click$.next($event.target.value)"
          (selectItem)="setSelectedClass($event.item)"
          #instance="ngbTypeahead"
        />
        <ng-template #rt let-r="result" let-t="term">
          <img [src]="r['icon']" class="mr-2" style="width: 1.5em">
          <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight>
        </ng-template>
      </div>
    </div>

    <div class="d-inline-flex w-25 ml-2">
      <div class="flex-fill">
        <div class="form-group" *ngIf="characterService.tempCharacter.alignment !== null; else showSelectAlignmentBtn">
          <label for="alignment">Alignment:</label>
          <button class="d-inline-flex align-items-center btn btn-outline-info btn-sm ml-1 py-0"
                  title="Select your characters alignment."
                  (click)="openSelectAlignmentModal()">
            <i class="fas fa-undo"></i><span class="small ml-1">Change Alignment</span>
          </button>
          <div class="d-flex">
            <div class="flex-fill">
              <input type="text" class="form-control" id="alignment" [value]="characterService.tempCharacter.alignment" readonly required>
            </div>
          </div>
        </div>
        <ng-template #showSelectAlignmentBtn>
          <div class="form-group">
            <label for="alignment">Alignment:</label>
            <button class="btn btn-block" (click)="openSelectAlignmentModal()">Select Alignment</button>
          </div>
        </ng-template>
      </div>
    </div>

    <div class="d-inline-flex w-25 ml-2">
      <div class="flex-fill">
        <div class="form-group" *ngIf="characterService.tempCharacter.alignment !== null; else showSelectReligionBtn">
          <label for="alignment">Religion:</label>
          <button class="d-inline-flex align-items-center btn btn-outline-info btn-sm ml-1 py-0"
                  title="Select your characters Religion or Patron Deity."
                  (click)="openSelectReligionModal()">
            <i class="fas fa-undo"></i><span class="small ml-1">Change Religion</span>
          </button>
          <div class="d-flex">
            <div class="flex-fill">
              <input type="text" class="form-control" id="religion" [value]="characterService.tempCharacter.religion" readonly required>
            </div>
          </div>
        </div>
        <ng-template #showSelectReligionBtn>
          <div class="form-group">
            <label for="alignment">Religion:</label>
            <button class="btn btn-block" (click)="openSelectReligionModal()">Select Religion</button>
          </div>
        </ng-template>
      </div>
    </div>

  </div>

  <div class="d-flex">

    <div class="d-inline-flex w-25">
      <div class="mr-2">
        <div class="form-group">
          <label for="heightFeet">Height:</label>
          <button class="d-inline-flex align-items-center btn btn-outline-info btn-sm ml-1 py-0"
                  title="Generate a random character aged based on the selected race."
                  (click)="generateRandomHeight()">
            <i class="fas fa-random"></i><span class="small ml-1">Random</span>
          </button>
          <div class="d-flex">
            <div class="d-inline-flex w-50">
              <input type="number" class="form-control text-right" id="heightFeet" min="0"
                     [(ngModel)]="heightFeet" title="Feet" required>
              <span class="d-block mx-2">&apos;</span>
            </div>
            <div class="d-inline-flex w-50">
              <input type="number" class="form-control text-right" id="heightInches" [min]="heightInchesMin" max="12"
                     [(ngModel)]="heightInches" (ngModelChange)="heightInchesChanged()" title="Inches" required>
              <span class="d-block ml-2">&quot;</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="d-inline-flex w-25">
      <div class="mr-2">
        <div class="form-group">
          <label for="weight">Weight:</label>
          <button class="d-inline-flex align-items-center btn btn-outline-info btn-sm ml-1 py-0"
                  title="Generate a random character aged based on the selected race."
                  (click)="generateRandomWeight()">
            <i class="fas fa-random"></i><span class="small ml-1">Random</span>
          </button>
          <div class="d-inline-flex w-75">
            <input type="number" class="form-control text-right" id="weight" min="0" max="999999"
                   [(ngModel)]="weight" title="Pounds" required>
            <span class="d-block align-self-center ml-1">lbs.</span>
          </div>
        </div>
      </div>
    </div>

    <div class="d-inline-flex w-25">
      <div class="mr-2">
        <div class="form-group">
          <label for="age">Age:</label>
          <button class="d-inline-flex align-items-center btn btn-outline-info btn-sm ml-1 py-0"
                  title="Generate a random character aged based on the selected race."
                  (click)="generateRandomAge(4, 6)">
            <i class="fas fa-random"></i><span class="small ml-1">Random</span>
          </button>
          <div class="d-inline-flex w-75">
            <input type="number" class="form-control text-right" id="age" min="0" max="999999"
                   [(ngModel)]="age" title="Age" required>
            <span class="d-block align-self-center ml-1">Years</span>
          </div>
        </div>
        <span class="d-block text-warning small ml-1" style="font-family: 'Roboto', sans-serif;">{{ ageCategory }}</span>
      </div>
    </div>

  </div>

  <pre>{{ character | json }}</pre>

</div>
